{
  "name": "ESP32 - SW DEV",
  "build": {
    "dockerfile": "Dockerfile",
    "context": "..",
    "args": {
      "USERNAME": "root",
      "USER_UID": "1000",
      "USER_GID": "1000"
    }
  },
  "settings": {
    "terminal.integrated.defaultProfile.linux": "bash"
  },
  "extensions": [
    "vsciot-vscode.vscode-arduino",
    "ms-vscode.cpptools",
    "eamodio.gitlens",
    "espressif.esp-idf-extension",
    "eriklynd.json-tools"
  ],
  "remoteUser": "root",
  "mounts": [
    "source=${localEnv:HOME}/.ssh,target=/root/.ssh,type=bind,consistency=cached",
    "source=${localEnv:HOME}/.gitconfig,target=/root/.gitconfig,type=bind,consistency=cached,readonly"
  ],
  "postCreateCommand": "/bin/bash -lc 'echo \"source /opt/esp/idf/export.sh\" >> ~/.bashrc && source ~/.bashrc && chown -R root:root /root/.ssh && chmod 700 /root/.ssh && chmod 600 /root/.ssh/config /root/.ssh/id_rsa /root/.ssh/id_ed25519 && chmod 644 /root/.ssh/id_rsa.pub /root/.ssh/id_ed25519.pub && echo \"Dev container ready for ESP-IDF development!\"'",
  "remoteEnv": {
    "IDF_PATH": "/opt/esp/idf",
    "PATH": "/opt/esp/idf/tools:${env:PATH}"
  }
}
